<!DOCTYPE html>
<html>

<head>
<title>Page Title</title>
</head>

<body onload = "initls()">

<h1>Make conversions</h1>
<label for="en">Employee Name:</label>
<input type="text" id="en"><br><br>

<label for="dw">Days Worked:</label>
<input type="number" id="dw"><br><br>

<label for="dr">Daily Rate:</label>
<input type="number" id="dr"><br><br>

<label for="da">Deduction Amount:</label>
<input type="number" id="da"><br><br>

<button id="btnAdd">Add employee to table</button>
<button id="btnClear">Clear Values</button>
<br><br>
<button id="btnDel">Delete employee from table</button>
<label for="term">Employee Number:</label>
<input type="number" id="term"><br><br>


<br><br>


<p id = "empTable">
    <!-- Centered Table --> 
    
</p>

<script>

var count;

function initls()
{
        employees=[];
        //document.getElementById("items").value=employees.length;
        document.getElementById("empTable").innerHTML="";

            
}

function showchart()
{
    var i,l,charttext,totalamount,ln,tg,td,tn;
        var theader,tbody,tb,tfooter;

    
        // Generate table header;
        theader ='<thead class="heading">';
        theader+="<tr>";
        theader+="<th>No.</th>";
        theader+='<th>Employee Name</th>';
        theader+="<th>Days Worked</th>";
        theader+='<th>Daily Rate</th>';
        theader+="<th>Gross Pay</th>";
        theader+="<th>Deduction Amount</th>";
        theader+="<th>Net Pay</th>";
        theader+="</tr>";
        theader+="</thead>";
        
        // Generate Table Body
        l = employees.length;
      
        charttext=""
        tbody=''
        tg = 0;
        td = 0;
        tn = 0;

        for (i=0;i<l;i++){
            ln=i+1;    
            tbody += "<tr>"
                +'<td>'+ln+' </td>'
                +'<td>'+employees[i].en+' </td>'
                +'<td>'+employees[i].dw+'</td>'
                +'<td>'+employees[i].dr+'</td>'
                +'<td>'+employees[i].gp+'</td>'
                +'<td>'+employees[i].da+'</td>' 
                +'<td>'+employees[i].np+'</td>'                 
                +"</tr>";

                tg+=employees[i].gp;
                td+=employees[i].da*1;
                tn+=employees[i].np;
        }

        //tbody += "</tbody>";

        // Generate table footer;
        tfooter ="<tfoot>";
        tfooter+="<tr>";
        //tfooter+='<th>'+employees.length+'</th>';
        //tfooter+='<th>Items</th>';
        tfooter+='<th></th>';
        tfooter+='<th></th>';
        tfooter+='<th></th>';
        tfooter+='<th>Total Amount</th>';
        tfooter+='<th>'+ tg +'</th>';
        tfooter+='<th>'+ td +'</th>';
        tfooter+='<th>'+ tn +'</th>';
        tfooter+="</tr>";
        tfooter+="</tfoot>";

       console.log(theader+tbody+tfooter);
        document.getElementById("empTable").innerHTML=
           '<table style = "margin-left:auto; margin-right:auto" border=1>'+theader+tbody+tfooter+"</table>";
}

document.getElementById("btnClear").addEventListener("click", function(){
     clear();
});


function clear()   
     {  
        document.getElementById("en").value = '';
        document.getElementById("dw").value = '';
        document.getElementById("dr").value = '';
        document.getElementById("da").value = '';
        document.getElementById("term").value = '';
     }


document.getElementById("btnAdd").addEventListener("click",()=>   
       {
        
        
        
        var employee = {
             "en": " ",
             "dw": 0,
             "dr": 0,
             "da": 0,
             "gp": 0,
             "np": 0,
            };

          employee.en=document.getElementById("en").value;
          employee.dw=document.getElementById("dw").value;
          employee.dr=document.getElementById("dr").value;
          employee.da=document.getElementById("da").value;
          employee.gp = employee.dw * employee.dr;
          employee.np = employee.gp - employee.da;

        if (employee.en==""||employee.dw==0||employee.dr==0||employee.da==0)
        {
            alert("Don't leave any fields blank");
            clear();
            return;
        }
        else
        {

           employees.push(employee);

          console.log(employees.length);

          showchart();
        }

    });

document.getElementById("btnDel").addEventListener("click",()=>   
    {

    var todelete;
    var itemno;

    itemno=document.getElementById("term").value;

    todelete=confirm("Delete item no. "+itemno+"?");

    if (todelete) {

        employees.splice(itemno-1,1);
        showchart();   
    }

});    






</script>

<a href="index.html">Return sa bahay</a>

</body>

</html>